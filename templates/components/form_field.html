{% load widget_tweaks %}

{% with input_type=field.field.widget.input_type %}
  <label class="label" for="{{ field.id_for_label }}">
    <span class="label-text">{{ field.label }}</span>
  </label>

  {% if input_type == "password" %}
    <div class="join w-full">
      {% if field.errors %}
        {% render_field field placeholder="" class="join-item w-full input input-bordered text-primary input-error" %}
      {% else %}
        {% render_field field placeholder="" class="join-item w-full input input-bordered text-primary" %}
      {% endif %}

      <button
        type="button"
        class="join-item btn btn-outline"
        data-password-toggle="{{ field.id_for_label }}"
        data-show-text="Mostrar"
        data-hide-text="Ocultar"
        aria-label="Mostrar u ocultar contraseÃ±a"
      >
        Mostrar
      </button>
    </div>
  {% else %}
    {% if field.name == "email" %}
      {% if field.errors %}
        {% render_field field placeholder="nombre@dominio.com" class="w-full input input-bordered text-primary input-error" %}
      {% else %}
        {% render_field field placeholder="nombre@dominio.com" class="w-full input input-bordered text-primary" %}
      {% endif %}
    {% elif field.name == "login" %}
      {% if field.errors %}
        {% render_field field placeholder="Tu usuario o correo" class="w-full input input-bordered text-primary input-error" %}
      {% else %}
        {% render_field field placeholder="Tu usuario o correo" class="w-full input input-bordered text-primary" %}
      {% endif %}
    {% else %}
      {% if field.errors %}
        {% render_field field placeholder="" class="w-full input input-bordered text-primary input-error" %}
      {% else %}
        {% render_field field placeholder="" class="w-full input input-bordered text-primary" %}
      {% endif %}
    {% endif %}
  {% endif %}

  {% if field.help_text %}
    <div class="mt-1 ml-1 text-xs opacity-60">{{ field.help_text|safe }}</div>
  {% endif %}

  {% for error in field.errors %}
    <span class="flex items-center max-w-xs mt-1 ml-1 text-xs font-medium tracking-wide text-error">{{ error }}</span>
  {% endfor %}
{% endwith %}
